<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Will You Be My Valentine?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { 
            margin: 0; 
            overflow: hidden; 
            touch-action: none; /* Prevents scrolling on mobile */
            -webkit-tap-highlight-color: transparent;
        }
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }
        .animate-float {
            animation: float infinite ease-in-out;
        }
        @keyframes heartbeat {
            0% { transform: scale(1); }
            15% { transform: scale(1.1); }
            30% { transform: scale(1); }
            45% { transform: scale(1.1); }
            60% { transform: scale(1); }
        }
        .animate-heartbeat {
            animation: heartbeat 2s infinite;
        }
        .animate-bounce-in {
            animation: bounceIn 1s cubic-bezier(0.215, 0.610, 0.355, 1.000) both;
        }
        @keyframes bounceIn {
            0%, 20%, 40%, 60%, 80%, 100% { transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000); }
            0% { opacity: 0; transform: scale3d(.3, .3, .3); }
            20% { transform: scale3d(1.1, 1.1, 1.1); }
            40% { transform: scale3d(.9, .9, .9); }
            60% { opacity: 1; transform: scale3d(1.03, 1.03, 1.03); }
            80% { transform: scale3d(.97, .97, .97); }
            100% { opacity: 1; transform: scale3d(1, 1, 1); }
        }
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 8s linear infinite;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Icons ---
        const Heart = ({ className, size = 24, color = "currentColor", fill = "none" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill={fill} stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
            </svg>
        );

        const Stars = ({ className, size = 24, fill = "none" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
                <path d="M5 3v4"/><path d="M9 5H5"/><path d="M19 21v-4"/><path d="M15 19h4"/>
            </svg>
        );

        const Music = ({ className, size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/>
            </svg>
        );

        const Sparkles = ({ className, size = 24, fill = "none" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
            </svg>
        );

        // --- Confetti Component ---
        const Confetti = () => {
            const canvasRef = useRef(null);

            useEffect(() => {
                const canvas = canvasRef.current;
                const ctx = canvas.getContext('2d');
                let animationFrameId;
                let particles = [];

                const resize = () => {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                };
                window.addEventListener('resize', resize);
                resize();

                const colors = ['#ff0000', '#ff69b4', '#ffd700', '#ff1493', '#00ff00', '#00bfff'];

                class Particle {
                    constructor() {
                        this.x = Math.random() * canvas.width;
                        this.y = Math.random() * canvas.height - canvas.height;
                        this.size = Math.random() * 10 + 5;
                        this.speedY = Math.random() * 3 + 2;
                        this.speedX = Math.random() * 2 - 1;
                        this.color = colors[Math.floor(Math.random() * colors.length)];
                        this.rotation = Math.random() * 360;
                        this.rotationSpeed = Math.random() * 5 - 2.5;
                    }

                    update() {
                        this.y += this.speedY;
                        this.x += this.speedX;
                        this.rotation += this.rotationSpeed;
                        if (this.y > canvas.height) {
                            this.y = -20;
                            this.x = Math.random() * canvas.width;
                        }
                    }

                    draw() {
                        ctx.save();
                        ctx.translate(this.x, this.y);
                        ctx.rotate((this.rotation * Math.PI) / 180);
                        ctx.fillStyle = this.color;
                        ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size);
                        ctx.restore();
                    }
                }

                // Initial burst
                for (let i = 0; i < 150; i++) {
                    particles.push(new Particle());
                }

                const animate = () => {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    particles.forEach(p => {
                        p.update();
                        p.draw();
                    });
                    animationFrameId = requestAnimationFrame(animate);
                };
                animate();

                return () => {
                    window.removeEventListener('resize', resize);
                    cancelAnimationFrame(animationFrameId);
                };
            }, []);

            return <canvas ref={canvasRef} className="fixed inset-0 pointer-events-none z-50" />;
        };

        // --- Floating Hearts Background ---
        const FloatingHearts = () => {
            return (
                <div className="fixed inset-0 pointer-events-none overflow-hidden z-0">
                    {[...Array(15)].map((_, i) => (
                        <div
                            key={i}
                            className="absolute animate-float opacity-30"
                            style={{
                                left: `${Math.random() * 100}%`,
                                top: `${Math.random() * 100}%`,
                                animationDelay: `${Math.random() * 5}s`,
                                animationDuration: `${Math.random() * 10 + 10}s`,
                            }}
                        >
                            <Heart size={Math.random() * 40 + 20} color="#ff69b4" fill="#ff69b4" />
                        </div>
                    ))}
                </div>
            );
        };

        // --- Main App Component ---
        function App() {
            const [accepted, setAccepted] = useState(false);
            const [noBtnStyle, setNoBtnStyle] = useState({});
            const [hoverCount, setHoverCount] = useState(0);
            const [yesBtnScale, setYesBtnScale] = useState(1);

            // Handle both touch and mouse events
            const moveNoButton = (e) => {
                if (e) e.preventDefault(); // Stop default touch actions
                
                // Get viewport dimensions (more accurate on mobile)
                const viewportWidth = window.visualViewport ? window.visualViewport.width : window.innerWidth;
                const viewportHeight = window.visualViewport ? window.visualViewport.height : window.innerHeight;
                
                // Button size estimate
                const btnWidth = 150; 
                const btnHeight = 60;

                // Calculate random position within safe bounds (padding of 20px)
                const maxX = viewportWidth - btnWidth - 20;
                const maxY = viewportHeight - btnHeight - 20;
                
                const x = Math.max(20, Math.random() * maxX);
                const y = Math.max(20, Math.random() * maxY);
                
                setNoBtnStyle({
                    position: 'fixed',
                    left: `${x}px`,
                    top: `${y}px`,
                    transition: 'all 0.1s ease-out', // Faster on mobile
                    zIndex: 9999, // Ensure it's on top
                    touchAction: 'none'
                });
                setHoverCount(prev => prev + 1);
                
                // Grow Yes button, capped at 3x for mobile usability
                setYesBtnScale(prev => Math.min(prev + 0.15, 3)); 
            };

            const getNoButtonText = () => {
                const messages = [
                    "No",
                    "Are you sure?",
                    "‡§®‡§æ‡§π‡•Ä ‡§Æ‡•ç‡§π‡§£‡•Ç ‡§®‡§ï‡•ã‡§∏!", // Don't say no!
                    "Really sure?",
                    "Sharddha apla porannchi shappat tula!", // The emotional blackmail!
                    "‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞ ‡§è‡§ï‡§¶‡§æ!", // Think once!
                    "Think again!",
                    "Last chance!",
                    "‡§Ö‡§∏‡§Ç ‡§®‡§ï‡•ã ‡§ï‡§∞‡•Ç ‡§ó!", // Don't do this (girl)!
                    "Surely not?",
                    "You might regret this!",
                    "‡§™‡§∞‡§§ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞!", // Think again!
                    "Give it another thought!",
                    "Are you absolutely certain?",
                    "‡§≠‡§æ‡§µ ‡§®‡§ï‡•ã ‡§ñ‡§æ‡§ä!", // Don't act pricey!
                    "This could be a mistake!",
                    "Have a heart!",
                    "‡§π‡•ã ‡§Æ‡•ç‡§π‡§£ ‡§®‡§æ!", // Say yes!
                    "Don't be so cold!",
                    "Change of heart?",
                    "‡§Æ‡§æ‡§ù‡§Ç ‡§π‡•É‡§¶‡§Ø ‡§§‡•Å‡§ü‡•á‡§≤!", // My heart will break!
                    "I wouldn't say no!",
                    "What about now?",
                    "PLEASE",
                    "‡§ñ‡§∞‡§Ç‡§ö ‡§®‡§æ‡§π‡•Ä?", // Really no?
                    "PRETTY PLEASE",
                    "I'm going to die of sadness",
                    "‡§Ö‡§∞‡•á ‡§ê‡§ï ‡§®‡§æ!", // Hey listen!
                    "Ok that's it",
                    "Just click YES already!",
                    "‡§∞‡•Å‡§∏‡§≤‡•Ä ‡§ï‡§æ?", // Are you angry?
                    "I am speed",
                    "You can't catch me!",
                    "‡§®‡§æ‡§π‡•Ä ‡§Æ‡•ç‡§π‡§£‡§ú‡•á ‡§®‡§æ‡§π‡•Ä?", // No means no?
                    "Stop chasing me!",
                    "Click the green one!",
                    "I'm getting tired...",
                    "Okay, I give up (jk)",
                    "Still chasing?",
                    "You're persistent!",
                    "‡§§‡•ç‡§∞‡§æ‡§∏ ‡§®‡§ï‡•ã ‡§¶‡•á‡§ä!", // Don't trouble me!
                    "I'm fast as boi",
                    "Fine, catch me if you can!"
                ];
                return messages[Math.min(hoverCount, messages.length - 1)];
            };

            return (
                <div className="h-screen w-screen bg-gradient-to-br from-pink-100 via-red-100 to-pink-200 flex flex-col items-center justify-center overflow-hidden relative font-sans text-center touch-none">
                    {/* Background Ambience */}
                    <FloatingHearts />

                    {accepted ? (
                        // --- Success State ---
                        <div className="z-10 flex flex-col items-center animate-bounce-in p-4">
                            <Confetti />
                            
                            <div className="relative mb-8">
                                <div className="absolute -top-8 -left-8 text-yellow-500 animate-spin-slow">
                                    <Stars size={40} fill="currentColor" />
                                </div>
                                <div className="absolute -bottom-6 -right-6 text-yellow-500 animate-bounce">
                                    <Sparkles size={32} fill="currentColor" />
                                </div>
                                
                                <img 
                                    src="https://media.tenor.com/gUiu1zyxfzYAAAAi/bear-kiss-bear-kisses.gif" 
                                    alt="Happy Bears Kissing" 
                                    className="rounded-3xl shadow-2xl border-4 border-white w-56 h-56 md:w-64 md:h-64 object-cover"
                                />
                            </div>

                            <h1 className="text-3xl md:text-6xl font-extrabold text-pink-600 mb-4 drop-shadow-sm">
                                YAYYY! I Knew It! üíñ
                            </h1>
                            <p className="text-lg md:text-xl text-pink-800 mb-8 max-w-xs md:max-w-md">
                                Best decision ever, Shraddha! Get ready for the best Valentine's Day ever! ü•∞
                            </p>

                            <button 
                                onClick={() => window.location.reload()}
                                className="bg-white text-pink-500 px-8 py-3 rounded-full font-bold shadow-lg hover:bg-pink-50 transition transform hover:scale-105 active:scale-95"
                            >
                                Play Again
                            </button>
                        </div>
                    ) : (
                        // --- Question State ---
                        <div className="z-10 flex flex-col items-center w-full max-w-md px-4">
                            {/* Main Cute Image */}
                            <div className="mb-6 md:mb-8 relative group">
                                <div className="absolute inset-0 bg-pink-400 rounded-full blur-xl opacity-20 animate-pulse"></div>
                                <img 
                                    src="https://media.tenor.com/ftafHq2yvBAAAAAi/mocha-bear-hearts.gif"
                                    alt="Cute Bear Asking" 
                                    className="relative w-40 h-40 md:w-56 md:h-56 object-contain drop-shadow-xl animate-heartbeat"
                                />
                            </div>

                            <h1 className="text-2xl md:text-5xl font-bold text-gray-800 mb-2 px-2 leading-tight">
                                Shraddha... <span className="text-pink-600 inline-block">üíñ</span>
                            </h1>
                            <h2 className="text-lg md:text-3xl font-medium text-gray-700 mb-8 md:mb-12">
                                Will you be my Valentine?
                            </h2>

                            <div className="flex flex-col items-center gap-4 w-full justify-center relative min-h-[140px]">
                                {/* YES Button */}
                                <button
                                    onClick={() => setAccepted(true)}
                                    style={{ transform: `scale(${yesBtnScale})` }}
                                    className="group relative bg-green-500 hover:bg-green-600 text-white text-xl md:text-2xl font-bold py-3 px-10 rounded-full shadow-lg transition-all duration-200 focus:outline-none ring-4 ring-green-500/30 z-10 active:scale-95"
                                >
                                    <span className="flex items-center gap-2">
                                        YES <Heart className="w-6 h-6 fill-current animate-pulse" />
                                    </span>
                                </button>

                                {/* NO Button - The Runner */}
                                <button
                                    style={noBtnStyle}
                                    onMouseEnter={moveNoButton}
                                    onTouchStart={moveNoButton} /* Critical for Mobile */
                                    onClick={moveNoButton}      /* Fallback */
                                    className="bg-red-500 text-white text-lg md:text-xl font-bold py-3 px-8 rounded-full shadow-lg transition-colors focus:outline-none z-20 whitespace-nowrap active:scale-90"
                                >
                                    {getNoButtonText()}
                                </button>
                            </div>
                            
                            <div className="mt-12 text-pink-300 text-xs md:text-sm font-light flex items-center gap-2 opacity-70">
                                <Music size={12} /> Made with love 
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
